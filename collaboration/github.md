# Github로 협업하는 방법

## 1. Feature Branch Workflow를 이용하여 협업하는 방법
[원본 블로그](https://gmlwjd9405.github.io/2017/10/27/how-to-collaborate-on-GitHub-1.html)

### 1.1 Feature Branch Workflow
- Feature Branch Workflow의 기본 컨셉은 기능별로 브랜치를 만들어서 작업하는 것이다.
- 다수의 팀 구성원이 메인 코드 베이스를 중심으로 안전하게 새로운 기능을 개발할 수 있다.
- 유연성이 큰 협업 방법이고, 소규모 인원의 프로젝트에서 주로 사용한다.

### 1.2 기본 흐름
1. 프로젝트 참여자가 원격 저장소(리포지토리)를 clone 한다.
    > fetch와 pull의 차이  
    > fetch : 원격 저장소의 데이터를 로컬에 가져오기  
    > pull : 원격 저장소의 데이터를 로컬에 가져오고 로컬 저장소에 병합하기  
    > 즉, pull = fetch + merge
2. 프로젝트 참여자는 새로운 기능 개발을 위해 격리된 branch를 생성 또는 선택한다.
3. 선택(생성)한 브랜치에서 개발을 진행한다.
4. 로컬 저장소의 변경 사항을 원격 저장소에 푸시한다.
5. 브랜치의 작업이 완료되면, 프로젝트 관리자(원격 저장소 관리자)에게 해당 브랜치를 메인 브랜치로 풀 리퀘스트를 한다.
6. 프로젝트 관리자는 풀 리퀘스트의 내용, 코드 등을 확인하고 메인 코드 베이스(메인 브랜치)에 병합한다.
7. 프로젝트 참여자는 병합된 내용들을 로컬 저장소에 동기화 하기 위해 메인 브랜치로 이동 후 pull 한다.
8. 새로운 기능 개발이 필요할 때 마다 동일한 과정을 반복한다.


## 2. Forking Workflow를 이용하여 협업하는 방법
[원본 블로그](https://gmlwjd9405.github.io/2017/10/28/how-to-collaborate-on-GitHub-2.html)

### 2.1 Forking Workflow
- 프로젝트 참여자가 자신의 원격 저장소(중앙 원격 저장소를 Fork한 것)를 가지는 방식
- Branch보다 더 큰 단위의 격리 수준을 가진다.
- 모든 프로젝트 참여자는 중앙 원격 저장소에 푸시하는 것이 아니라, 각자 자신의 원격 저장소에 푸시하고, 프로젝트 관리자가 다른 개발자들의 원격 저장소를 중앙 원격저장소에 병합한다.
- 큰 규모로 분산된 팀에서 사용하기에도 좋은 방법.
- 오픈 소스 프로젝트에서 많이 사용하는 방법.

### 2.2 기본 흐름
1. 프로젝트 참여자는 중앙 원격 저장소를 fork해서 자신의 원격 저장소를 만든다.
2. 프로젝트 참여자가 자신의 원격 저장소(리포지토리)를 clone 한다.
3. clone한 로컬 저장소에 중앙 원격 저장소를 연결한다.
   - clone한 원격 저장소는 자동으로 연결되고 중앙 원격 저장소만 추가로 연결해주면 된다.
   - 보통 "upstream"이라는 명칭으로 한다.
   - `git remote add upstream [중앙 원격 저장소 URL]`
4. 프로젝트 참여자는 새로운 기능 개발을 위해 격리된 branch를 생성 또는 선택한다.
5. 선택(생성)한 브랜치에서 개발을 진행한다.
4. 로컬 저장소의 변경 사항을 자신의 원격 저장소에 푸시한다.
5. 중앙 원격 저장소의 프로젝트 관리자에게 개발한 브랜치의 풀 리퀘스트를 던진다.
   - Github 페이지에서 어떤 branch를 제출할지 정해서 요청할 수 있다.
6. 프로젝트 관리자는 변경 내용을 확인한 후 병합한다.
7. 프로젝트 참여자는 병합된 내용들을 로컬 저장소에 동기화 하기 위해 메인 브랜치로 이동 후 중앙 원격 저장소로부터 pull 한다.
8. 새로운 기능 개발이 필요할 때 마다 4번 과정부터 반복한다.


## 3. Gitflow Workflow를 이용하여 협업하는 방법
[원본 블로그](https://gmlwjd9405.github.io/2018/05/12/how-to-collaborate-on-GitHub-3.html)

### 3.1 Gitflow Workflow
- Feature Branch Workflow와 유사하지만, 대형 프로젝트에도 적용할 수 있는 복작함과 엄격한 절차를 갖는다.
- 핵심 컨셉은 중앙 원격 저장소에서 master와 develop, 두 개의 메인 브랜치를 사용하는 것
- master 브랜치 : 릴리스 이력을 관리하기 위한 용도. 즉, 배포 가능한 상태만을 가진다.
- develop 브랜치 : 기능 개발을 위한 브랜치들을 병합하는 브랜치. 모든 개발이 완료되고 배포 가능한 수준에 도달하면 master 브랜치에 merge한다.
- 기타 나머지 종류의 branch도 존재하는데, 이것들에 대해서는 밑에서 별도로 다룬다.

### 3.2 기본 흐름
1. 프로젝트 관리자는 중앙 원격 저장소(리포지토리)를 만들고, master 브랜치를 기반으로 develop 브랜치를 만든다.
2. 프로젝트 참여자가 자신의 원격 저장소(리포지토리)를 clone 한다.
3. 프로젝트 참여자는 새로운 기능 개발을 위해 격리된 branch를 생성 또는 선택한다.
   - 이때, master 브랜치가 아니라 develop 브랜치를 기준으로 만들어야 한다.
3. 선택(생성)한 브랜치에서 개발을 진행한다.
4. 로컬 저장소의 변경 사항을 원격 저장소에 푸시한다.
5. 브랜치의 작업이 완료되면, 프로젝트 관리자(원격 저장소 관리자)에게 해당 브랜치를 devlop 브랜치로 풀 리퀘스트를 한다.
6. 프로젝트 관리자는 풀 리퀘스트의 내용, 코드 등을 확인하고 develop 브랜치에 병합한다.
7. 프로젝트 참여자는 병합된 내용들을 로컬 저장소에 동기화 하기 위해 develop 브랜치로 이동(checkout) 후 pull 한다.
8. 새로운 기능 개발이 필요할 때 마다 동일한 과정을 반복한다.
9. 만약 devlop 브랜치에서 필요한 기능이 모두 구현이 되었다면 배포를 위한 전용 브랜치를 사용하여 별도로 격리해둔다.
    - 일반적으로 release 브랜치를 만들어서 관리한다.
10. 배포를 위한 최종 점검, 테스트, 버그 수정 등을 진행한다.
    - 이 과정에서 발견된 버그는 배포 전용 브랜치에서 작업 후 develop에도 병합한다.
    - develop에서 수정하고 release 브랜치로 병합하지 않는 이유는 release 브랜치가 생겨난 후 그 사이에도 develop에서는 개발이 이루어질 수 있기 때문이다.
11. 배포를 위한 모든 점검과 준비가 완료되면 (배포 가능한 상태가 되면) master 브랜치에 병합한다.
12. master 브랜치의 버그 수정하기 (hotfix)
    - 배포한 이후 발견된 버그에 대해서 긴급하게 수정해야 하는 경우 master 브랜치에서 직접 hotfix 브랜치를 생성해 필요한 부분만 수정한다.
    - 수정한 후 다시 master 브랜치에 병합하고 배포한다.
    - hotfix 브랜치에서의 변경 사항은 develop 브랜치에도 병합한다.



## 느낀점
- Gitflow Workflow가 이 중 가장 현실적이고 체계적인 협업 방법으로 보인다.
- 생성한 브랜치를 얼마나 세분화 하고 얼마나 분업해서 작업 할지를 결정해서 분담 해야겠다.
- 브랜치 끼리는 서로 격리되어 있기 때문에 실시간으로 다른 브랜치의 변경 사항을 적용받지 못한다. 때문에 브랜치간의 충돌을 피하기 위해선 분업의 경계를 잘 설정할 필요도 있으나, 그만큼 낮은 결합도, 높은 응집도의 설계와 개발이 필수적인 것 같다.






